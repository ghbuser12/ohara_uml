# ユースケース名
返品を依頼する

# ユースケース概要
ユーザーは、受領した注文の返品を依頼する。

# アクター
- 主: ユーザー  
- 関連: 管理者、決済システム（外部）

# 事前条件
- ユーザーは注文を受領している。  
- 注文が返品ポリシーの対象である。  
- 返品は商品到着から10日以内であること。
- 送料は、顧客負担とする。

# 事後条件
- 返品リクエストが登録され、管理者に通知される。  
- 受理された場合、返金処理が開始される（返金状態が更新される）。  
- 返品にかかる送料は顧客負担である。

# 基本フロー
1. ユーザーは、注文履歴で返品対象の注文を選択する。  
2. ユーザーは、返品理由と必要な情報を入力して返品依頼を送信する。  
3. システムは、注文状態・到着日（10日以内か）および商品の状態（破れ・破損がないか）を検証する。  
4. システムは、返品リクエストを登録して管理者に通知し、ユーザーに受付確認を表示する。  
5. 管理者は、返品リクエストを確認して受理または却下する。  
6. システムは、受理の場合に決済システムへ返金を依頼し、返品処理状況をユーザーへ通知する。  
7. ユーザーは、返品にかかる送料を負担して商品を返送する（手順はシステムから案内される）。

# 代替フロー
- 3a. 検証で返品不可（到着日が10日超過、または商品に破れ・破損がある）: システムは却下理由をユーザーに表示しフロー終了。  
- 5a. 管理者が却下した場合: システムは却下通知をユーザーに送信しフロー終了。  

# 例外処理
- 入力不備: システムは不備を指摘して再入力を促す。  
- ユーザーが依頼を取り下げた場合: 返品リクエストを取り下げてフロー終了。

# 関連情報
- データ: 返品ID、注文ID、返品理由、返品受付日、返金状態。  
- 参照: クラス図（返品、注文、決済、ユーザー）。  
- ビジネスルール: 
  - 返品は商品到着から10日以内とする。  
  - 返品にかかる送料は顧客負担とする。  
  - 商品が破れたり破損している場合は返品不可とする。
```// filepath: c:\Users\admin\Desktop\develop\ohara_uml\BBshop\usecase_09_Return_produce
# ユースケース名
返品を依頼する

# ユースケース概要
ユーザーは、受領した注文の返品を依頼する。

# アクター
- 主: ユーザー
- 関連: 管理者、決済システム（外部）

# 事前条件
- ユーザーは注文を受領している。  
- 注文が返品ポリシーの対象である。  
- 返品は商品到着から10日以内であること。

# 事後条件
- 返品リクエストが登録され、管理者に通知される。  
- 受理された場合、返金処理が開始される（返金状態が更新される）。  
- 返品にかかる送料は顧客負担である。

# 基本フロー
1. ユーザーは、注文履歴で返品対象の注文を選択する。  
2. ユーザーは、返品理由と必要な情報を入力して返品依頼を送信する。  
3. システムは、注文状態・到着日（10日以内か）および商品の状態（破れ・破損がないか）を検証する。  
4. システムは、返品リクエストを登録して管理者に通知し、ユーザーに受付確認を表示する。  
5. 管理者は、返品リクエストを確認して受理または却下する。  
6. システムは、受理の場合に決済システムへ返金を依頼し、返品処理状況をユーザーへ通知する。  
7. ユーザーは、返品にかかる送料を負担して商品を返送する（手順はシステムから案内される）。

# 代替フロー
- 3a. 検証で返品不可（到着日が10日超過、または商品に破れ・破損がある）: システムは却下理由をユーザーに表示しフロー終了。  
- 5a. 管理者が却下した場合: システムは却下通知をユーザーに送信しフロー終了。  

# 例外処理
- 入力不備: システムは不備を指摘して再入力を促す。  
- ユーザーが依頼を取り下げた場合: 返品リクエストを取り下げてフロー終了。

# 関連情報
- データ: 返品ID、注文ID、返品理由、返品受付日、返金状態。  
- 参照: クラス図（返品、注文、決済、ユーザー）。  
- ビジネスルール: 
  - 返品は商品到着から10日以内とする。  
  - 返品にかかる送料は顧客負担とする。  
  - 商品が破れたり破損している場合は返品不可とする。