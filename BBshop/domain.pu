@startuml BBショップドメインモデル図
skinparam componentStyle rectangle

' ユーザ
[ユーザ] o-- [ユーザID]
[ユーザ] o-- [名前]
[ユーザ] o-- [住所]
[ユーザ] o-- [電話番号]
[ユーザ] o-- [メールアドレス]
[ユーザ] -- [注文]
[ユーザ] -- [返品]

' 商品
[商品] o-- [商品ID]
[商品] o-- [タイトル]
[商品] o-- [価格]
[商品] o-- [在庫数]

' 注文
[注文] o-- [注文ID]
[注文] o-- [ユーザ]
[注文] -- [商品]
[注文] o-- [数量]
[注文] o-- [注文日]
[注文] o-- [配送先]
[注文] o-- [注文状態]
[注文] -- [決済]

' 決済
[決済] o-- [決済ID]
[決済] o-- [決済方法]
[決済] o-- [金額]
[決済] o-- [決済結果]

' 発送
[発送] o-- [発送ID]
[発送] o-- [配送先]
[発送] o-- [発送日]
[発送] o-- [発送状況]

' 返品
[返品] o-- [返品ID]
[返品] o-- [返品理由]
[返品] o-- [返品受付日]
[返品] o-- [返金状態]

' 管理者
[管理者] o-- [管理者ID]
[管理者] o-- [名前]
[管理者] o-- [権限]

' カート
[カート] o-- [カートID]
[カート] o-- [作成日]
[カート] o-- [最終更新日]

' 関連
[ユーザ] o-- [カート]
[カート] -- [商品]

' ===== is-a モデル追加 =====
' 注文状態の種類
[注文状態] <|-- [新規]
[注文状態] <|-- [処理中]
[注文状態] <|-- [発送済み]
[注文状態] <|-- [キャンセル]

' 返品理由の種類
[返品理由] <|-- [不良品]
[返品理由] <|-- [注文間違い]
[返品理由] <|-- [イメージ違い]

' 返金状態の種類
[返金状態] <|-- [未返金]
[返金状態] <|-- [返金処理中]
[返金状態] <|-- [返金済み]

@enduml
